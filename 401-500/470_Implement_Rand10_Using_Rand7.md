
# 470. Implement Rand10() Using Rand7()(M)

[]()

## 题目描述(中等)

## 思路

- 采样

## 解决方法

### 采样

随机生成两个数，第一个数采样为[1,5];第二个数采样为奇偶数，分别对应为[1,5]和[6,10]

```java
    public int rand10() {
        int a = rand7();
        int b = rand7();
        while (a > 5) {
            a = rand7();
        }
        while (b == 7) {
            b = rand7();
        }
        return a + ((b & 1) == 0 ? 0 : 5);
    }
```


### 拒绝采样1

对两次随机生成的数字个位统计

```
枚举如下：
	a	1	2	3	4	5	6	7
b								
1		2	3	4	5	6	7	8
2		3	4	5	6	7	8	9
3		4	5	6	7	8	9	0
4		5	6	7	8	9	0	1
5		6	7	8	9	0	1	2
6		7	8	9	0	1	2	3
7		8	9	0	1	2	3	4

去掉右上角的  
6	7	8
7	8	9
8	9	0      后

每个数字的出现次数为4次，0-9的概率相同

当结果扫到右上角的时候进行调用采样，直到输出其他结果

```

```java
    public int rand10() {
        int a, b;
        do {
            a = rand7();
            b = rand7();
        } while (a > 4 && b < 4);
        return (a + b) % 10 + 1;
    }

```

### 拒绝采样2

对两次随机生成的数字，可以得到[1,49]之间49个数字，拒绝[41,49]的9个数字，其余40个数字映射为[1,10];

```
	a	1	2	3	4	5	6	7
b								
1		1	2	3	4	5	6	7
2		8	9	10	11	12	13	14
3		15	16	17	18	19	20	21
4		22	23	24	25	26	27	28
5		29	30	31	32	33	34	35
6		36	37	38	39	40	41	42
7		43	44	45	46	47  48  49

```

```java
    public int rand10() {
        int a, b, index;
        do {
            a = rand7();
            b = rand7();
            index = (b - 1) * 7 + a;
        } while (index > 40);
        return index % 10 + 1;
    }
```